<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Profile | Eat Wise</title>
  <link rel="stylesheet" href="profile.css" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="navbar"></div>
  <div class="card">
    <h1>Your Profile</h1>
    <div class="userinfo">
      <label>
        <span>Name</span>
        <input id="displayName" disabled />
      </label>
      <label>
        <span>Email</span>
        <input id="displayEmail" disabled />
      </label>
      <hr />
    </div>
    <form id="profileForm">
      <label>
        <span>Household Size</span>
        <input name="householdSize" type="number" min="1" required />
      </label>
      <label>
        <span>Dietary Preferences</span>
        <input name="dietaryPreferences" required />
      </label>
      <label>
        <span>Location</span>
        <input name="location" required />
      </label>
      <label>
        <span>Budget Range</span>
        <input name="budgetRange" required />
      </label>
      <button type="submit">Save Changes</button>
      <div id="msg"></div>
    </form>

    <hr style="margin: 2rem 0;" />

    <!-- User Inventory Section -->
    <h2>My Inventory</h2>
    <div id="inventorySection">
      <button type="button" id="addInventoryBtn" class="btn-add">+ Add Item</button>
      <div id="addInventoryForm" style="display:none;">
        <h3>Add to Inventory</h3>
        <form id="inventoryForm">
          <label>
            <span>Food Item</span>
            <select id="invFoodItem" required></select>
          </label>
          <label>
            <span>Quantity</span>
            <input type="number" step="0.01" id="invQuantity" required />
          </label>
          <label>
            <span>Unit</span>
            <input type="text" id="invUnit" placeholder="kg, g, pieces" required />
          </label>
          <label>
            <span>Expiry Date (optional)</span>
            <input type="date" id="invExpiry" />
          </label>
          <button type="submit">Add to Inventory</button>
          <button type="button" id="cancelInvBtn">Cancel</button>
        </form>
      </div>
      <div id="inventoryList" style="margin-top:1rem;"></div>
    </div>

    <hr style="margin: 2rem 0;" />

    <!-- Consumption Log Section -->
    <h2>Log Food Consumption</h2>
    <div id="consumptionSection">
      <button type="button" id="logConsumptionBtn" class="btn-add">+ Log Consumption</button>
      <div id="logConsumptionForm" style="display:none;">
        <h3>Log Consumption</h3>
        <form id="consumptionForm">
          <label>
            <span>Food Item</span>
            <select id="consFoodItem" required></select>
          </label>
          <label>
            <span>Quantity Consumed</span>
            <input type="number" step="0.01" id="consQuantity" required />
          </label>
          <label>
            <span>Unit</span>
            <input type="text" id="consUnit" placeholder="kg, g, pieces" required />
          </label>
          <label>
            <span>Notes (optional)</span>
            <textarea id="consNotes" placeholder="e.g., breakfast, dinner"></textarea>
          </label>
          <button type="submit">Log Consumption</button>
          <button type="button" id="cancelConsBtn">Cancel</button>
        </form>
      </div>
      <h3>Consumption History</h3>
      <div id="consumptionList" style="margin-top:1rem;"></div>
    </div>

    <p class="muted" style="margin-top:2rem;"><a href="inventory.html">Inventory</a> · <a href="login.html">Login</a> · <a href="register.html">Register</a></p>
  </div>
  <script src="profile.js"></script>
  <script defer src="nav.js"></script>
</body>
</html>
